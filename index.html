<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">

	<title>Mini4wd Chrono</title>

	<link rel="stylesheet" href="css/bulma.css">
	<link rel="stylesheet" href="css/custom.css">
</head>

<body>

	<!-- NAVBAR -->
	<nav class="navbar is-transparent">
		<div class="navbar-brand">
			<a class="navbar-item" href="https://github.com/Pimentoso/mini4wdchrono" target="_blank">
				<img src="images/pimentoso.png" width="60" height="60">
			</a>
			<p id="js-title" class="navbar-item title is-2 is-uppercase"></p>
		</div>

		<div class="navbar-menu">
			<div class="navbar-end">
				<div class="navbar-item">
					<div class="field is-grouped is-grouped-multiline">
						<div class="control">
							<div class="tags has-addons">
								<span class="tag">Board status</span>
								<span id="tag-board-status" class="tag is-danger is-uppercase">not connected</span>
							</div>
						</div>
						<div class="control">
							<div class="tags has-addons">
								<span class="tag">Track</span>
								<span id="tag-track-status" class="tag is-danger is-uppercase">not loaded</span>
							</div>
						</div>
						<div class="control">
							<div class="tags has-addons">
								<span class="tag">Tournament</span>
								<span id="tag-tournament-status" class="tag is-danger is-uppercase">not loaded</span>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</nav>

	<!-- TABS -->
	<div class="tabs is-centered is-boxed">
		<ul>
			<li class="is-active" data-tab="setup">
				<a>
					<span>Race setup</span>
				</a>
			</li>
			<li data-tab="race">
				<a>
					<span>Race view</span>
				</a>
			</li>
			<li data-tab="players">
				<a>
					<span>Racers list</span>
				</a>
			</li>
			<li data-tab="manches">
				<a>
					<span>Manches list</span>
				</a>
			</li>
			<li data-tab="config">
				<a>
					<span>Configuration</span>
				</a>
			</li>
			<li data-tab="about">
				<a>
					<span>About</span>
				</a>
			</li>
		</ul>
	</div>

	<!-- SETUP TAB -->
	<div class="container" data-tab="setup">
		<p class="has-text-centered">
			<a id="button-reset" href="#" class="button is-info" style="width: 200px;">
				New race
			</a>
		</p>

		<hr />

		<p class="title is-4">Track informations</p>

		<div class="container">
			<label class="label">Load track using code</label>
			<div class="field has-addons">
				<div class="control" style="width: 100%;">
					<input id="js-input-track-code" class="input" type="text" placeholder="example: 4QT8GM" value="">
				</div>
				<div class="control">
					<a id="js-load-track" class="button is-info">
						Load
					</a>
				</div>
			</div>

			<div class="level">
				<div class="level-left">
					<p id="js-track-info">
						<span id="js-track-length" class="tag is-light is-medium">-</span>
						<span id="js-track-order" class="tag is-light is-medium">-</span>
					</p>
				</div>
				<div class="level-right">
					<a id="js-link-track" href="#" class="button">
						See in Mini4WD Track Editor &gt;
					</a>
				</div>
			</div>

			<label class="label">Or manual input</label>
			<div class="field is-horizontal">
				<div class="field-body">
					<div class="field has-addons">
						<p class="control is-expanded">
							<input id="js-track-length-manual" class="input" type="text" placeholder="Track length">
						</p>
						<p class="control">
							<a class="button is-static">
								m
							</a>
						</p>
					</div>
					<div class="field">
						<p class="control">
							<div class="select is-fullwidth">
								<select id="js-track-order-manual">
								<option>Lane order</option>
								<option value="1-2-3">1-2-3-1</option>
								<option value="1-3-2">1-3-2-1</option>
								</select>
							</div>
						</p>
					</div>
				</div>
			</div>

			<div class="level">

					<div class="level-left">
					</div>
				<div class="level-right">
					<a id="js-track-save-manual" href="#" class="button">
						Save
					</a>
				</div>
			</div>
		</div>

		<hr />

		<p class="title is-4">Tournament informations</p>

		<div class="container">
			<label class="label">Tournament code</label>
			<div class="field has-addons">
				<div class="control" style="width: 100%;">
					<input id="js-input-tournament-code" class="input" type="text" placeholder="example: 49PMRU" value="">
				</div>
				<div class="control">
					<a id="js-load-tournament" class="button is-info">
						Load
					</a>
				</div>
			</div>

			<div class="level">
				<div class="level-left">
					<p id="js-tournament-info">
						<span id="js-tournament-players" class="tag is-light is-medium">-</span>
						<span id="js-tournament-manches" class="tag is-light is-medium">-</span>
					</p>
				</div>
				<div class="level-right">
					<a id="js-link-tournament" href="#" class="button">
						See in Mini4WD Tournament Generator &gt;
					</a>
				</div>
			</div>
		</div>

		<hr />

		<p class="title is-4">Setup</p>

		<div class="container">
			<label class="label">Race mode</label>
			<div class="buttons has-addons">
				<span id="js-race-mode-0" class="button js-race-mode" data-race-mode="0">Time attack mode</span>
				<span id="js-race-mode-1" class="button js-race-mode" data-race-mode="1">Final mode</span>
				<span id="js-race-mode-2" class="button js-race-mode" data-race-mode="2" disabled>Endurance mode</span>
			</div>
			<p id="js-race-mode-description" class="has-text-grey is-size-7">RACE MODE DESC</p>	
		</div>

		<div class="container">
			<label class="label">Max start delay</label>
			<div class="field has-addons">
				<p class="control" style="width: 100%;">
					<input id="js-settings-start-delay" class="input" type="text" placeholder="Text input" value="3">
				</p>
				<p class="control">
					<a class="button is-static">
						sec
					</a>
				</p>
			</div>
			<p class="has-text-dark is-size-7">Time limit for a car to pass on the sensor after race start. Default is 3 sec.</p>
		</div>

		<div class="container">
			<label class="label">Average speed</label>
			<div class="field has-addons">
				<p class="control" style="width: 100%;">
					<input id="js-settings-speed-threshold" class="input" type="text" placeholder="Text input" value="5">
				</p>
				<p class="control">
					<a class="button is-static">
						m/s
					</a>
				</p>
			</div>
			<p class="has-text-dark is-size-7">Estimated speed for this race (in m/s). Jump race: 5, Italian classic: 7.5, Speed race: 10</p>
			<p id="js-settings-estimated-time" class="has-text-dark is-size-7">ESTIMATED ROUND TIME</p>
		</div>

		<div class="container">
			<label class="label">Lap time threshold</label>
			<div class="field has-addons">
				<p class="control" style="width: 100%;">
					<input id="js-settings-time-threshold" class="input" type="text" placeholder="Text input" value="40">
				</p>
				<p class="control">
					<a class="button is-static">
						%
					</a>
				</p>
			</div>
			<p class="has-text-dark is-size-7">If a car does not complete a lap within this %, it's considered out. Default is 40.</p>
			<p id="js-settings-estimated-cutoff" class="has-text-dark is-size-7">ESTIMATED CUTOFF</p>
		</div>

		<p class="has-text-centered">
			<a id="button-save-settings" href="#" class="button is-info">
				Save settings
			</a>
		</p>
	</div>

	<!-- PLAYERS TAB -->
	<div class="container" data-tab="players" style="display: none;">
		<div class="level has-text-centered">
			<div class="level-left"></div>
			<div class="level-right">
				<div class="level-item">
					<span id="status-xls" class="has-text-grey"></span>
				</div>
				<div class="level-item">
					<button class="button is-info" id="button-xls">
						<span>Save XLS file</span>
					</button>
				</div>
			</div>
		</div>
		<table id="tablePlayerList" class="table table is-bordered is-striped is-hoverable is-fullwidth"></table>
	</div>

	<!-- MANCHES TAB -->
	<div class="container" data-tab="manches" style="display: none;">
		<div class="level has-text-centered">
			<div class="level-left"></div>
			<div class="level-right">
				<div class="level-item">
					<button class="button" id="button-manches-cancel">
						<span>Cancel</span>
					</button>
				</div>
				<div class="level-item">
					<button class="button is-info" id="button-manches-save">
						<span>Save changes</span>
					</button>
				</div>
			</div>
		</div>
		<table id="tableMancheList" class="table table is-bordered is-striped is-hoverable is-fullwidth"></table>
	</div>

	<!-- RACE TAB -->
	<div class="container" data-tab="race" style="display: none;">
		<div class="level has-text-centered has-text-weight-bold">
			<span class="level-item tag is-primary is-size-3">Manche&nbsp;<span id="curr-manche"></span></span>
			&nbsp;
			<span class="level-item tag is-primary is-size-3">Round&nbsp;<span id="curr-round"></span></span>
		</div>

		<div class="level has-text-centered">
			<div class="level-item">
				<button class="button" id="button-prev">
					<span>&lt; Prev round</span>
				</button>
			</div>
			<div class="level-item">
				<button class="button is-link is-large has-text-weight-bold" id="button-start" style="width: 200px;">
					<span>START</span>
				</button>
			</div>
			<div class="level-item">
				<button class="button" id="button-next">
					<span>Next round &gt;</span>
				</button>
			</div>
		</div>

		<div class="columns">
			<div class="column box-lane0">
				<p class="has-background-primary has-text-white is-block is-size-3 has-text-centered has-text-weight-bold has-margin-vertical">LANE 1</p>
				<div class="card has-text-centered">
					<header class="card-header">
						<p id="name-lane0" class="card-header-title is-size-2 is-block has-text-grey-dark is-uppercase"></p>
					</header>
					<div class="card-content">
						<div class="content">
							<span id="place-lane0" class="tag is-size-5 is-uppercase is-light js-place">stopped</span>
							&nbsp;
							<span id="delay-lane0" class="tag is-size-5 is-light js-delay">+0.000 sec</span>
							<span id="timer-lane0" class="is-block has-text-weight-bold has-margin-vertical js-timer" style="font-size: 6rem;">0.000</span>
							<span id="lap-lane0" class="tag is-size-5 is-uppercase is-light js-lap">lap 0</span>
							&nbsp;
							<span id="speed-lane0" class="tag is-size-5 is-light js-speed">0.00 m/s</span>

							<ul id="laps-lane0"></ul>

							<a id="button-invalidate-lane0" href="#" class="button is-danger">invalidate</a>
						</div>
					</div>
				</div>
			</div>
			<div class="column box-lane1">
				<p class="has-background-warning has-text-white is-block is-size-3 has-text-centered has-text-weight-bold has-margin-vertical">LANE 2</p>
				<div class="card has-text-centered">
					<header class="card-header">
						<p id="name-lane1" class="card-header-title is-size-2 is-block has-text-grey-dark is-uppercase"></p>
					</header>
					<div class="card-content">
						<div class="content">
							<span id="place-lane1" class="tag is-size-5 is-uppercase is-light js-place">stopped</span>
							&nbsp;
							<span id="delay-lane1" class="tag is-size-5 is-light js-delay">+0.000 sec</span>
							<span id="timer-lane1" class="is-block has-text-weight-bold has-margin-vertical js-timer" style="font-size: 6rem;">0.000</span>
							<span id="lap-lane1" class="tag is-size-5 is-uppercase is-light js-lap">lap 0</span>
							&nbsp;
							<span id="speed-lane1" class="tag is-size-5 is-light js-speed">0.00 m/s</span>

							<ul id="laps-lane1"></ul>

							<a id="button-invalidate-lane1" href="#" class="button is-danger">invalidate</a>
						</div>
					</div>
				</div>
			</div>
			<div class="column box-lane2">
				<p class="has-background-danger has-text-white is-block is-size-3 has-text-centered has-text-weight-bold has-margin-vertical">LANE 3</p>
				<div class="card has-text-centered">
					<header class="card-header">
						<p id="name-lane2" class="card-header-title is-size-2 is-block has-text-grey-dark is-uppercase"></p>
					</header>
					<div class="card-content">
						<div class="content">
							<span id="place-lane2" class="tag is-size-5 is-uppercase is-light js-place">stopped</span>
							&nbsp;
							<span id="delay-lane2" class="tag is-size-5 is-light js-delay">+0.000 sec</span>
							<span id="timer-lane2" class="is-block has-text-weight-bold has-margin-vertical js-timer" style="font-size: 6rem;">0.000</span>
							<span id="lap-lane2" class="tag is-size-5 is-uppercase is-light js-lap">lap 0</span>
							&nbsp;
							<span id="speed-lane2" class="tag is-size-5 is-light js-speed">0.00 m/s</span>

							<ul id="laps-lane2"></ul>

							<a id="button-invalidate-lane2" href="#" class="button is-danger">invalidate</a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- CONFIG TAB -->
	<div class="container" data-tab="config" style="display: none;">
		<div class="container">

			<div class="field">
				<label class="label">Custom title</label>
				<div class="control" style="width: 100%;">
					<input id="js-config-title" class="input" type="text" placeholder="default: MINI4WD CHRONO" value="">
				</div>
			</div>

			<div class="field">
				<label class="label">USB Port</label>
				<div class="control" style="width: 100%;">
					<input id="js-config-usb-port" class="input" type="text" placeholder="example: COM1" value="">
				</div>
			</div>

			<label class="label">Sensitivity</label>
			<div class="field has-addons">
				<p class="control" style="width: 100%;">
					<input id="js-config-sensor-threshold" class="input" type="text" placeholder="default: 20" value="">
				</p>
				<p class="control">
					<a class="button is-static">
						%
					</a>
				</p>
			</div>

			<div class="field">
				<label class="label">Sensor 1 pin (analog)</label>
				<div class="control" style="width: 100%;">
					<input id="js-config-sensor-pin-1" class="input" type="text" placeholder="example: A0" value="">
				</div>
			</div>

			<div class="field">
				<label class="label">Sensor 2 pin (analog)</label>
				<div class="control" style="width: 100%;">
					<input id="js-config-sensor-pin-2" class="input" type="text" placeholder="example: A1" value="">
				</div>
			</div>

			<div class="field">
				<label class="label">Sensor 3 pin (analog)</label>
				<div class="control" style="width: 100%;">
					<input id="js-config-sensor-pin-3" class="input" type="text" placeholder="example: A2" value="">
				</div>
			</div>
			
			<div class="field">
				<label class="label">LED 1 pin (digital)</label>
				<div class="control" style="width: 100%;">
					<input id="js-config-led-pin-1" class="input" type="text" placeholder="example: 0" value="">
				</div>
			</div>

			<div class="field">
				<label class="label">LED 2 pin (digital)</label>
				<div class="control" style="width: 100%;">
					<input id="js-config-led-pin-2" class="input" type="text" placeholder="example: 1" value="">
				</div>
			</div>

			<div class="field">
				<label class="label">LED 3 pin (digital)</label>
				<div class="control" style="width: 100%;">
					<input id="js-config-led-pin-3" class="input" type="text" placeholder="example: 2" value="">
				</div>
			</div>

			<div class="field">
				<label class="label">Speaker pin (digital)</label>
				<div class="control" style="width: 100%;">
					<input id="js-config-piezo-pin" class="input" type="text" placeholder="example: 4" value="">
				</div>
			</div>
		</div>

		<p class="has-text-centered">
			<a id="button-save-config" href="#" class="button is-info">
				Save settings
			</a>
		</p>
	</div>

	<!-- ABOUT TAB -->
	<div class="container" data-tab="about" style="display: none;">
		<div class="content">
			<p class="title is-4">Mini4WD Chrono</p>
			<p id="js-about-version"></p>
			<p>by Pimentoso - 2019</p>
			<hr />
			<p class="title is-4">External tools</p>
			<p><a href="https://mini4wd-track-editor.pimentoso.com/" class="button is-success is-outlined">Mini4WD Track Editor</a></p>
			<p><a href="https://mini4wd-tournament.pimentoso.com/" class="button is-link is-outlined">Mini4WD Tournament Generator</a></p>
			<p><a href="https://github.com/Pimentoso/mini4wdchrono" class="button is-outlined">Project page on Github</a></p>
		</div>
	</div>

</body>

<script>window.$ = require('jquery');</script>
<script>window._ = require('underscore');</script>
<script src="js/main.js"></script>

</html>
